@import "_vars.less";

.dark(@rules) {
  body[data-dark-mode=system] {
    @media (prefers-color-scheme: dark) {
      @rules();
    }
  }

  body[data-dark-mode=dark] {
    @rules();
  }
}

.clearfix() {
  &::after {
    content: ' ';
    display: block;
    clear: both;
    height: 0;
    line-height: 0;
  }
}
.transform(@value) {
    -webkit-transform: @value;
    -moz-transform: @value;
    -ms-transform: @value;
    -o-transform: @value;
    transform: @value;
}

.noise() {
  background-image: url('../i/noise.png');
}

.child-iter() {
  > *::after {
    content: ' Â· ';
  }

  > *:last-child::after {
    content: none;
  }
}

.invert() {
  background-color: @inv_bg;
  color: @inv_fg;
  text-shadow: fadeout(black, 50%) 0 .1em 0;

  a, button.link {
    &:hover {
      color: @inv_fg;
    }
    color: @inv_hl;
  }
}

.uninvert() {
  background-color: none;
  color: @fg;
  text-shadow: @basic-shadow 0 .1em 0;
  a, button.link {
    &:hover {
      color: @fg;
    }
    color: @hl;
  }
}
